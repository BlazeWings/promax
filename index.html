<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AIæ™ºèƒ½è‹±è¯­å­¦ä¹ ä¸­å¿ƒ â€” å®Œæ•´ç‰ˆ</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* ç®€æ´æ ·å¼ï¼ˆä½ å¯ä»¥æ›¿æ¢ä¸ºè‡ªå·±çš„ CSSï¼‰ */
    :root{--bg:#f4f7fb;--card:#fff;--accent:#2b8cf4}
    body{font-family:Inter, system-ui, Arial, "Helvetica Neue", Helvetica; margin:0; background:var(--bg); color:#111}
    .container{max-width:1100px;margin:24px auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    header h1{margin:0;font-size:20px}
    .nav{display:flex;gap:8px;flex-wrap:wrap}
    .btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
    .btn.secondary{background:#6c757d}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 1px 4px rgba(20,20,40,.04)}
    .section{display:none;margin-top:14px}
    .section.active{display:block}
    .small{font-size:13px;color:#666}
    .word-card{border:1px solid #e8eef8;padding:10px;border-radius:8px;margin-bottom:8px;background:#fff}
    .row{display:flex;gap:12px;align-items:center}
    #daily-cards .word-card{display:flex;justify-content:space-between;align-items:center}
    input[type=file]{display:inline-block}
    .progress-circle{display:inline-block;width:14px;height:14px;border-radius:50%;background:#ddd;margin-right:6px}
    footer{margin-top:28px;text-align:center;color:#888;font-size:13px}
    @media (max-width:720px){ .row{flex-direction:column;align-items:flex-start} }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>ğŸ¯ AIæ™ºèƒ½è‹±è¯­å­¦ä¹ ä¸­å¿ƒ</h1>
        <div class="small">ä»Šæ—¥ç›®æ ‡ï¼š<span id="today-goal">10</span> å•è¯</div>
      </div>
      <div class="nav">
        <button class="btn" onclick="show('daily')">åˆ†ç»„å­¦ä¹ </button>
        <button class="btn" onclick="show('ai')">AIè¾…åŠ©</button>
        <button class="btn" onclick="show('library')">å•è¯åº“</button>
        <button class="btn" onclick="show('review')">æ™ºèƒ½å¤ä¹ </button>
        <button class="btn" onclick="show('progress')">è¿›åº¦</button>
      </div>
    </header>

    <!-- åˆ†ç»„å­¦ä¹  -->
    <section id="daily" class="section active card">
      <div class="row">
        <div>
          <h3>åˆ†ç»„å­¦ä¹ ï¼ˆæ¯ç»„ 10 ä¸ªï¼‰</h3>
          <div id="daily-info" class="small">å‡†å¤‡å°±ç»ª</div>
        </div>
        <div style="margin-left:auto">
          <button class="btn" onclick="app.generateDailyWords()">ç”Ÿæˆä»Šæ—¥å•è¯</button>
          <button class="btn secondary" onclick="app.nextGroup()">ä¸‹ä¸€ç»„</button>
        </div>
      </div>

      <div id="daily-cards" style="margin-top:12px"></div>
    </section>

    <!-- AI è¾…åŠ© -->
    <section id="ai" class="section card">
      <h3>AI è¾…åŠ©</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:center">
        <div>
          <label>å•è¯æŸ¥è¯¢ï¼š</label>
          <input id="dict-input" placeholder="è¾“å…¥å•è¯..." />
          <button class="btn" onclick="app.quickDictionary()">æŸ¥è¯¢ï¼ˆKimiï¼‰</button>
        </div>
        <div style="margin-left:auto">
          <button class="btn" onclick="app.generateStory()">ç”¨ä»Šæ—¥å•è¯ç”Ÿæˆå°è¯´</button>
          <button class="btn secondary" onclick="app.generateDialogue()">ç”Ÿæˆæƒ…æ™¯å¯¹è¯</button>
        </div>
      </div>

      <div id="dict-result" style="margin-top:12px;white-space:pre-wrap;background:#f7f9fc;padding:12px;border-radius:8px;display:none"></div>

      <div id="story" style="margin-top:12px;white-space:pre-wrap;background:var(--card);padding:12px;border-radius:8px;display:none"></div>
      <div id="dialogue" style="margin-top:12px;white-space:pre-wrap;background:var(--card);padding:12px;border-radius:8px;display:none"></div>
    </section>

    <!-- å•è¯åº“ -->
    <section id="library" class="section card">
      <h3>å•è¯åº“ç®¡ç†</h3>
      <div class="row" style="align-items:center;margin-bottom:12px">
        <div>
          <input type="file" id="csv-file" accept=".csv" />
          <button class="btn" onclick="app.importCSV()">å¯¼å…¥ CSV</button>
        </div>
        <div style="margin-left:auto">
          <input id="search-box" placeholder="æœç´¢å•è¯ / é‡Šä¹‰..." oninput="app.filterLibrary()" />
        </div>
      </div>
      <div id="import-result" class="small"></div>
      <div id="word-list" style="margin-top:12px"></div>
    </section>

    <!-- æ™ºèƒ½å¤ä¹  -->
    <section id="review" class="section card">
      <h3>æ™ºèƒ½å¤ä¹ </h3>
      <div id="review-queue" class="small">å¾…å¤ä¹ ï¼š0</div>
      <div id="review-card" style="margin-top:12px;display:none" class="card"></div>
      <div style="margin-top:12px">
        <button class="btn" onclick="app.startReviewSession()">å¼€å§‹å¤ä¹ </button>
        <button class="btn secondary" onclick="app.showDifficultBox()">æŸ¥çœ‹å›°éš¾ç®±</button>
      </div>
    </section>

    <!-- è¿›åº¦ -->
    <section id="progress" class="section card">
      <h3>å­¦ä¹ è¿›åº¦</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div class="card" style="min-width:200px">å·²å­¦è¯æ±‡ï¼š<div id="stat-learned">0</div></div>
        <div class="card" style="min-width:200px">ä»Šæ—¥å­¦ä¹ ï¼š<div id="stat-today">0</div></div>
        <div class="card" style="min-width:200px">å¾…å¤ä¹ ï¼š<div id="stat-due">0</div></div>
      </div>
      <canvas id="trendChart" style="max-width:700px;margin-top:18px"></canvas>

      <div style="margin-top:12px" class="small">è®¾ç½®ï¼šæ¯æ—¥ç›®æ ‡ <input id="goal-input" type="number" value="10" style="width:60px" /> <button class="btn" onclick="app.saveGoal()">ä¿å­˜</button></div>
    </section>

    <footer>
      æœ¬é¡¹ç›®ä¸ºçº¯å‰ç«¯æ¼”ç¤ºã€‚æé†’ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä¸è¦æŠŠ API Key æš´éœ²åœ¨å‰ç«¯ï¼ˆå»ºè®®åç«¯ä»£ç†ï¼‰ã€‚
    </footer>
  </div>

  <!-- å¼•å…¥ä¸»è„šæœ¬ -->
  <script src="app.js"></script>
</body>
</html>
